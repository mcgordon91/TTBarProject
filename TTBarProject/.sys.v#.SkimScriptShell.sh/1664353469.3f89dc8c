export SCRAM_ARCH=slc7_amd64_gcc11 source /cvmfs/sft.cern.ch/lcg/views/LCG_102swan/x86_64-centos7-gcc11-opt/setup.sh; export PYTHONPATH=/afs/cern.ch/user/<initial>/<username>/.local/lib/python3.9/site-packages/:$PYTHONPATH python /eos/user/m/migordon/SWAN_projects/TTBarProject/SkimScript.py --input 'dbs:/TTToSemiLeptonic_mtop166p5_TuneCP5_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv9-106X_upgrade2018_realistic_v16_L1v1-v1/NANOAODSIM' --define 'auto leading_isolated_muon_mask = Muon_pt > 30 && abs(Muon_eta) < 2.4 && Muon_mediumId == true && Muon_pfIsoId >= 4;' --define 'auto leading_isolated_election_mask = Electron_pt > 30 && abs(Electron_eta) < 2.4 && Electron_cutBased == 4;' --define 'auto jet_mask = ROOT::VecOps::RVec<Int_t> jmask = (Jet_pt >= 30 && abs(Jet_eta) <= 2.5 && Jet_jetId >= 2); for(int i=0; i < LeadingIsolatedMuon_pt.size(); ++i){ROOT::VecOps::RVec<Float_t> dr; for(int j=0; j < jmask.size(); ++j){dr.push_back(ROOT::VecOps::DeltaR(Jet_eta.at(j), LeadingIsolatedMuon_eta.at(i), Jet_phi.at(j), LeadingIsolatedMuon_phi.at(i)));} jmask = jmask && dr >= 0.4; dr.clear(); return jmask;' --define 'auto jpsi_mu_candidate_mask = Muon_pt > 3 && abs(Muon_eta) <= 2.4 && Muon_mediumId == true && !(leading_isolated_muon_mask);' --filter 'if(HLT_IsoMu24 == true || (HLT_Ele32_WPTight_Gsf == true && HLT_IsoMu24 == false) && Sum(leading_isolated_muon_mask) == 1 && METAfterMETCut >= 30 && Num_Jets >= 3 && Sum(jpsi_mu_candidate_mask) >= 2 { return true;} return false;' --simultaneous 4 --nThreads 4 --write --prefetch --redir root://cms-xrd-global.cern.ch/ --outdir /eos/user/m/migordon/SWAN_projects/JPsiSkims/TTToSemiLeptonic_mtop166p5_TuneCP5_13TeV-powheg-pythia8/RunIISummer20UL18NanoAODv2-106X_upgrade2018_realistic_v15_L1v1-v1